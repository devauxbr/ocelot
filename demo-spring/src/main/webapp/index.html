<!DOCTYPE html>
<html>
	<head>
		<title>Start Page</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script src="ocelot-services.js" type="text/javascript"></script>
		<script src="ocelot-core.js" type="text/javascript"></script>
	</head>
	<body>
		<script>
			var messagePrinter = new MessagePrinter();
			function getMessage(srv) {
				var output = document.getElementById("output");
				var pre = document.createElement("p");
				pre.style.wordWrap = "break-word";
				pre.innerHTML = "msg";
				output.appendChild(pre);

				srv.getMessage().then(function (msg) {
					alert("J'ai recu un resultat correct");
					addMessage(msg);
				}).catch(function (fault) {
					alert(fault.message + "\n" + fault.classname + "\n" + fault.stacktrace.join('\n'));
				});
			}
			function addMessage(msg) {
				var output = document.getElementById("output");
				var pre = document.createElement("p");
				pre.style.wordWrap = "break-word";
				pre.innerHTML = msg;
				output.appendChild(pre);
			}
		</script>
		<button onclick="getMessage(messagePrinter)">GET SPRING MESSAGE()</button>
		<div id="output"></div>
	</body>
</html>
